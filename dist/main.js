(()=>{function t(){const t=document.getElementById("content");for(;t.firstChild;)t.removeChild(t.firstChild)}function e(){const t=window.localStorage;let e=JSON.parse(t.getItem("tasks"));return e||(e=[]),e}function n(){const t=window.localStorage;let e=JSON.parse(t.getItem("groups"));return e||(e=["General"]),e}function s(t){const e=document.getElementById("task-title"),n=document.getElementById("task-desc"),s=document.getElementById("task-date"),a=document.getElementById("task-priority"),c=document.getElementById("task-group");let o;switch(t){case"get":o={title:e.value,desc:n.value,date:s.value,priority:a.checked,group:c.value};break;case"clear":e.value="",n.value="",s.value="",a.checked=!1}return o}function a(t){const[e]=t.target.getElementsByClassName("task-desc"),[n]=t.target.getElementsByClassName("edit");e.classList.toggle("hide"),n.classList.toggle("hide")}function c(t){const e=document.createElement("div");e.classList.add("task-card"),t.priority&&e.classList.add("high-priority");const n=document.createElement("h1");n.classList.add("task-title"),n.textContent=t.title;const s=document.createElement("p");s.setAttribute("class","task-desc hide"),s.textContent=t.desc;const c=document.createElement("p");c.textContent=t.date;const o=document.createElement("div");o.classList.add("buttons");const d=document.createElement("button");d.setAttribute("class","action-button delete"),d.innerHTML='<i class="fa fa-trash-o fa-3x" aria-hidden="true"></i>';const i=document.createElement("button");i.setAttribute("class","action-button edit hide"),i.innerHTML='<i class="fa fa-pencil fa-3x" aria-hidden="true"></i>';const l=document.createElement("button");return l.setAttribute("class","action-button complete"),l.innerHTML='<i class="fa fa-check fa-3x" aria-hidden="true"></i>',o.append(l,i,d),e.append(n,s,c,o),e.addEventListener("click",a),e}function o(t){const e=t.target.getAttribute("tabIndex");document.getElementById("tasks"+e).classList.toggle("hide")}function d(t,n){const s=document.getElementById("content"),a=document.createElement("button");a.classList.add("groups"),a.setAttribute("id",t+n),a.tabIndex=n,a.innerHTML='<i class="fa fa-chevron-down fa-1x" aria-hidden="true"></i>   '+t,a.addEventListener("click",o),s.append(a);const d=function(t,n){const s=document.createElement("div"),a=e();s.setAttribute("id","tasks"+n),s.classList.add("hide"),s.classList.add("tasks");const o=a.filter((e=>e.group===t)),d=[];if(0===o.length){const t=document.createElement("h2");t.innerText="No Tasks Assigned",t.setAttribute("class","empty"),d.push(t)}else for(let t=0;t<o.length;t+=1){const e=c(o[t]);d.push(e)}return s.append(...d),s}(t,n);s.appendChild(d)}function i(){const t=[],e=n();for(let n=0;n<e.length;n+=1)t.push(d(e[n],n))}document.getElementById("task-button").addEventListener("click",(function(n){const a=document.getElementById("task-form"),c=document.getElementById("content"),o=document.getElementById("group-button"),d=n.target.getAttribute("data-state"),l=e();if("1"===d){n.target.setAttribute("data-state","0");const e=s("get");s("clear"),l.push(e),function(t){const e=window.localStorage;e.removeItem("tasks"),e.setItem("tasks",JSON.stringify(t))}(l),t(),i()}else n.target.setAttribute("data-state","1");console.log(l),a.classList.toggle("hide"),c.classList.toggle("hide"),n.target.classList.toggle("full-view"),o.classList.toggle("hide")})),document.getElementById("group-button").addEventListener("click",(function(e){const s=document.getElementById("group-form"),a=document.getElementById("content"),c=document.getElementById("task-button"),o=e.target.getAttribute("data-state"),d=document.getElementById("group-name"),l=n();"1"===o?(e.target.setAttribute("data-state","0"),l.push(d.value),function(t){const e=window.localStorage;e.removeItem("groups"),e.setItem("groups",JSON.stringify(t))}(l),t(),i()):e.target.setAttribute("data-state","1"),s.classList.toggle("hide"),a.classList.toggle("hide"),e.target.classList.toggle("full-view"),c.classList.toggle("hide")})),function(){const t=document.getElementById("task-group"),e=[],s=n();for(let t=0;t<s.length;t+=1){const n=document.createElement("option");n.innerText=s[t],n.value=s[t],e.push(n)}t.selectedIndex="0",t.append(...e)}(),i()})();